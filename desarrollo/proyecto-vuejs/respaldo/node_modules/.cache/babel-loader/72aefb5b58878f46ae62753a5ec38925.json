{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      departamento: {\n        costo: '',\n        nroCuartos: '',\n        propietario: ''\n      },\n      propietariosList: [],\n      submitted: false\n    };\n  },\n\n  mounted() {\n    this.getPropietariosList(), axios.get('http://127.0.0.1:8000/api/departamentos/' + this.$route.params.id + '/').then(response => {\n      console.log(response.data);\n      this.departamento = response.data;\n    });\n  },\n\n  methods: {\n    getPropietariosList() {\n      axios.get('http://127.0.0.1:8000/api/propietarios/').then(response => {\n        this.propietariosList = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    create: function (e) {\n      this.$validator.validate().then(result => {\n        this.submitted = true;\n\n        if (!result) {\n          return;\n        }\n\n        axios.put(`http://127.0.0.1:8000/api/departamentos/${this.departamento.id}/`, this.departamento).then(response => {\n          this.$router.push('/departamentos');\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAiDA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACXC,IAAI,GAAG;IACH,OAAO;MACHC,YAAY,EAAE;QACVC,KAAK,EAAE,EADG;QAEVC,UAAU,EAAE,EAFF;QAGVC,WAAW,EAAE;MAHH,CADX;MAMHC,gBAAgB,EAAE,EANf;MAOHC,SAAS,EAAE;IAPR,CAAP;EASH,CAXU;;EAYXC,OAAO,GAAG;IACN,KAAKC,mBAAL,IACAT,KAAK,CAACU,GAAN,CAAU,6CAA6C,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAAhE,GAAqE,GAA/E,EACKC,IADL,CACWC,QAAO,IAAK;MACfC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACd,IAArB;MACA,KAAKC,YAAL,GAAoBa,QAAQ,CAACd,IAA7B;IACP,CAJD,CADA;EAMH,CAnBU;;EAoBXiB,OAAO,EAAE;IACPT,mBAAmB,GAAG;MAChBT,KAAI,CACHU,GADD,CACK,yCADL,EAECI,IAFD,CAEMC,QAAO,IAAK;QACd,KAAKT,gBAAL,GAAwBS,QAAQ,CAACd,IAAjC;MACH,CAJD,EAKCkB,KALD,CAKOC,KAAI,IAAK;QACZJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;MACH,CAPD;IASH,CAXI;;IAYLC,MAAM,EAAE,UAAUC,CAAV,EAAa;MACjB,KAAKC,UAAL,CAAgBC,QAAhB,GAA2BV,IAA3B,CAAgCW,MAAK,IAAK;QACtC,KAAKlB,SAAL,GAAiB,IAAjB;;QACA,IAAI,CAACkB,MAAL,EAAa;UACT;QACJ;;QACAzB,KAAK,CAAC0B,GAAN,CAAW,2CAA0C,KAAKxB,YAAL,CAAkBW,EAAG,GAA1E,EACQ,KAAKX,YADb,EAGKY,IAHL,CAGUC,QAAO,IAAK;UACd,KAAKY,OAAL,CAAaC,IAAb,CAAkB,gBAAlB;QACH,CALL;MAMH,CAXD;IAYJ;EAzBK;AApBE,CAAf","names":["axios","data","departamento","costo","nroCuartos","propietario","propietariosList","submitted","mounted","getPropietariosList","get","$route","params","id","then","response","console","log","methods","catch","error","create","e","$validator","validate","result","put","$router","push"],"sourceRoot":"","sources":["/home/salai/Documentos/Segundo bimestre/Semana 7/taller14/taller14-carlostandazo7/desarrollo/proyecto-vuejs/taller/src/components/EditDepartamento.vue"],"sourcesContent":["<template>\n    <div class=\"pt-5\">\n        <form @submit.prevent=\"create\" method=\"post\">\n            <div class=\"form-group\">\n                <label for=\"costo\">Costo del departamento</label>\n                <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"costo\"\n                    v-model=\"departamento.costo\"\n                    v-validate=\"'required'\"\n                    name=\"costo\"\n                    placeholder=\"Ingrese costo\"\n                    :class=\"{'is-invalid': errors.has('departamento.costo') && submitted}\">\n                <div class=\"invalid-feedback\">\n                    Please provide a valid name.\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"nroCuartos\">Numero de cuartos</label>\n                <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"nroCuartos\"\n                    v-model=\"departamento.nroCuartos\"\n                    v-validate=\"'required'\"\n                    name=\"nroCuartos\"\n                    placeholder=\"Ingrese Numero de cuartos\"\n                    :class=\"{'is-invalid': errors.has('departamento.nroCuartos') && submitted}\">\n                <div class=\"invalid-feedback\">\n                    Please provide a valid numero de cuartos.\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"propietario\">Estudiante</label>\n                <select v-model=\"departamento.propietario\">\n                            <option v-for=\"e in propietariosList\" :key=\"e.url\" :value=\"e.url\">{{ e.nombre }} {{ e.apellido }}</option>\n                        </select>\n            </div>\n\n            <button type=\"submit\" class=\"btn btn-primary\">Crear</button>\n        </form>\n    </div>\n</template>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            departamento: {\n                costo: '',\n                nroCuartos: '',\n                propietario: '',\n            },\n            propietariosList: [],\n            submitted: false\n        }\n    },\n    mounted() {\n        this.getPropietariosList(),\n        axios.get('http://127.0.0.1:8000/api/departamentos/' + this.$route.params.id + '/')\n            .then( response => {\n                console.log(response.data)\n                this.departamento = response.data\n        });\n    },\n    methods: {\n      getPropietariosList() {\n            axios\n            .get('http://127.0.0.1:8000/api/propietarios/')\n            .then(response => {\n                this.propietariosList = response.data\n            })\n            .catch(error => {\n                console.log(error)\n            })\n\n        },\n        create: function (e) {\n            this.$validator.validate().then(result => {\n                this.submitted = true;\n                if (!result) {\n                    return;\n                }\n                axios.put(`http://127.0.0.1:8000/api/departamentos/${this.departamento.id}/`,\n                        this.departamento\n                    )\n                    .then(response => {\n                        this.$router.push('/departamentos');\n                    })\n            });\n        }\n    },\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}